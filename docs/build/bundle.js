var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function c(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function i(e,t,n){e.$$.on_destroy.push(s(t,n))}function l(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function a(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function p(){return d(" ")}function h(){return d("")}function g(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function $(e,t,n){e.classList[n?"add":"remove"](t)}let v;function b(e){v=e}const k=[],x=[],y=[],D=[],w=Promise.resolve();let O=!1;function z(e){y.push(e)}const _=new Set;let j=0;function E(){const e=v;do{for(;j<k.length;){const e=k[j];j++,b(e),q(e.$$)}for(b(null),k.length=0,j=0;x.length;)x.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];_.has(t)||(_.add(t),t())}y.length=0}while(k.length);for(;D.length;)D.pop()();O=!1,_.clear(),b(e)}function q(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(z)}}const N=new Set;let P;function S(e,t){e&&e.i&&(N.delete(e),e.i(t))}function A(e,t,n,r){if(e&&e.o){if(N.has(e))return;N.add(e),P.c.push((()=>{N.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}function C(e){e&&e.c()}function T(e,n,o,s){const{fragment:i,on_mount:l,on_destroy:u,after_update:a}=e.$$;i&&i.m(n,o),s||z((()=>{const n=l.map(t).filter(c);u?u.push(...n):r(n),e.$$.on_mount=[]})),a.forEach(z)}function L(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(k.push(e),O||(O=!0,w.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function M(t,c,o,s,i,l,u,f=[-1]){const d=v;b(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:c.target||d.$$.root};u&&u(p.root);let h=!1;if(p.ctx=o?o(t,c.props||{},((e,n,...r)=>{const c=r.length?r[0]:n;return p.ctx&&i(p.ctx[e],p.ctx[e]=c)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](c),h&&J(t,e)),n})):[],p.update(),h=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);p.fragment&&p.fragment.l(e),e.forEach(a)}else p.fragment&&p.fragment.c();c.intro&&S(t.$$.fragment),T(t,c.target,c.anchor,c.customElement),E()}b(d)}class B{$destroy(){L(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const H=[];function F(t,n=e){let r;const c=new Set;function s(e){if(o(t,e)&&(t=e,r)){const e=!H.length;for(const e of c)e[1](),H.push(e,t);if(e){for(let e=0;e<H.length;e+=2)H[e][0](H[e+1]);H.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,i=e){const l=[o,i];return c.add(l),1===c.size&&(r=n(s)||e),o(t),()=>{c.delete(l),0===c.size&&(r(),r=null)}}}}function I(t,n,o){const i=!Array.isArray(t),l=i?[t]:t,u=n.length<2;return a=t=>{let o=!1;const a=[];let f=0,d=e;const p=()=>{if(f)return;d();const r=n(i?a[0]:a,t);u?t(r):d=c(r)?r:e},h=l.map(((e,t)=>s(e,(e=>{a[t]=e,f&=~(1<<t),o&&p()}),(()=>{f|=1<<t}))));return o=!0,p(),function(){r(h),d()}},{subscribe:F(o,a).subscribe};var a}const Y=F(),G=F({freezeDeps:!0,freezeDevDeps:!0,freezePeerDeps:!1,showOriginal:!1}),K=I(Y,(e=>!!e)),Q=I(Y,(async(e,t)=>{if(!e.package)return;const n=JSON.parse(await e.package.text());t(JSON.stringify(n,null,2))})),R=I([Y,G],(async([e,t],n)=>{if(!e)return;const r=JSON.parse(await e.package.text()),c=JSON.parse(await e.packageLock.text()),o=new Map;Object.entries(c.dependencies).forEach((e=>o.set(e[0],e[1].version))),[t.freezeDeps?"dependencies":null,t.freezeDevDeps?"devDependencies":null,t.freezePeerDeps?"peerDependencies":null].filter(Boolean).forEach((e=>{r[e]&&(r[e]=U(r[e],o))})),n(JSON.stringify(r,null,2))})),U=(e,t)=>{if(!e)return null;const n=new Map;return Object.keys(e).forEach((r=>n.set(r,t.get(r)||e[r]))),Object.fromEntries(n)};function V(e){let t;return{c(){t=f("div"),t.textContent="Invalid files",m(t,"class","error svelte-lgiorp")},m(e,n){u(e,t,n)},d(e){e&&a(t)}}}function W(t){let n,c,o,s,i,l,d,v=t[2]&&V();return{c(){n=f("input"),c=p(),o=f("div"),o.textContent="Drop your package.json and package-lock.json files here",s=p(),v&&v.c(),i=h(),m(n,"type","file"),m(n,"class","input svelte-lgiorp"),n.multiple=!0,m(n,"accept",".json"),m(o,"class","drop-zone svelte-lgiorp"),$(o,"active",t[1])},m(e,r){u(e,n,r),t[8](n),u(e,c,r),u(e,o,r),u(e,s,r),v&&v.m(e,r),u(e,i,r),l||(d=[g(n,"change",t[6]),g(o,"click",t[7]),g(o,"dragover",t[3]),g(o,"dragleave",t[4]),g(o,"drop",t[5])],l=!0)},p(e,[t]){2&t&&$(o,"active",e[1]),e[2]?v||(v=V(),v.c(),v.m(i.parentNode,i)):v&&(v.d(1),v=null)},i:e,o:e,d(e){e&&a(n),t[8](null),e&&a(c),e&&a(o),e&&a(s),v&&v.d(e),e&&a(i),l=!1,r(d)}}}function X(e,t,n){let r,c=!1,o=!1;function s(e){const t=Array.from(e),r=t.map((e=>e.name));2===t.length&&r.includes("package.json")&&r.includes("package-lock.json")?(n(2,o=!1),Y.set({package:t.find((e=>"package.json"===e.name)),packageLock:t.find((e=>"package-lock.json"===e.name))})):n(2,o=!0)}return[r,c,o,function(e){e.preventDefault(),n(1,c=!0)},function(){n(1,c=!1)},function(e){e.preventDefault(),n(1,c=!1),s(e.dataTransfer.files)},function(e){s(r.files),n(0,r.value="",r)},function(){r.click()},function(e){x[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Z extends B{constructor(e){super(),M(this,e,X,W,o,{})}}function ee(e){let t;return{c(){t=f("th"),t.textContent="Original"},m(e,n){u(e,t,n)},d(e){e&&a(t)}}}function te(e){let t,n,r,c;return{c(){t=f("td"),n=f("textarea"),n.readOnly=!0,n.value=e[3],m(n,"class","svelte-1xe8ixn"),m(t,"class","svelte-1xe8ixn")},m(o,s){u(o,t,s),l(t,n),e[6](n),r||(c=g(n,"scroll",e[5]),r=!0)},p(e,t){8&t&&(n.value=e[3])},d(n){n&&a(t),e[6](null),r=!1,c()}}}function ne(t){let n,r,c,o,s,i,d,h,g,$,v,b=t[2].showOriginal&&ee(),k=t[2].showOriginal&&te(t);return{c(){n=f("table"),r=f("thead"),c=f("tr"),b&&b.c(),o=p(),s=f("th"),s.textContent="Modified",i=p(),d=f("tbody"),h=f("tr"),k&&k.c(),g=p(),$=f("td"),v=f("textarea"),v.readOnly=!0,v.value=t[4],m(v,"class","svelte-1xe8ixn"),m($,"class","svelte-1xe8ixn"),m(n,"class","svelte-1xe8ixn")},m(e,a){u(e,n,a),l(n,r),l(r,c),b&&b.m(c,null),l(c,o),l(c,s),l(n,i),l(n,d),l(d,h),k&&k.m(h,null),l(h,g),l(h,$),l($,v),t[7](v)},p(e,[t]){e[2].showOriginal?b||(b=ee(),b.c(),b.m(c,o)):b&&(b.d(1),b=null),e[2].showOriginal?k?k.p(e,t):(k=te(e),k.c(),k.m(h,g)):k&&(k.d(1),k=null),16&t&&(v.value=e[4])},i:e,o:e,d(e){e&&a(n),b&&b.d(),k&&k.d(),t[7](null)}}}function re(e,t,n){let r,c,o,s,l;return i(e,G,(e=>n(2,r=e))),i(e,Q,(e=>n(3,c=e))),i(e,R,(e=>n(4,o=e))),[s,l,r,c,o,function(e){e.preventDefault(),e.stopPropagation(),n(1,l.scrollTop=s.scrollTop,l)},function(e){x[e?"unshift":"push"]((()=>{s=e,n(0,s)}))},function(e){x[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class ce extends B{constructor(e){super(),M(this,e,re,ne,o,{})}}function oe(t){let n,c,o,s,i,h,$,v,b,k,x,y,D,w,O,z,_;return{c(){n=f("label"),c=f("input"),o=d("Deps"),s=p(),i=f("label"),h=f("input"),$=d("Dev deps"),v=p(),b=f("label"),k=f("input"),x=d("Peer deps"),y=p(),D=f("label"),w=f("input"),O=d("Show original file"),m(c,"type","checkbox"),m(c,"class","svelte-ete557"),m(n,"class","svelte-ete557"),m(h,"type","checkbox"),m(h,"class","svelte-ete557"),m(i,"class","svelte-ete557"),m(k,"type","checkbox"),m(k,"class","svelte-ete557"),m(b,"class","svelte-ete557"),m(w,"type","checkbox"),m(w,"class","svelte-ete557"),m(D,"class","svelte-ete557")},m(e,r){u(e,n,r),l(n,c),c.checked=t[0].freezeDeps,l(n,o),u(e,s,r),u(e,i,r),l(i,h),h.checked=t[0].freezeDevDeps,l(i,$),u(e,v,r),u(e,b,r),l(b,k),k.checked=t[0].freezePeerDeps,l(b,x),u(e,y,r),u(e,D,r),l(D,w),w.checked=t[0].showOriginal,l(D,O),z||(_=[g(c,"change",t[1]),g(h,"change",t[2]),g(k,"change",t[3]),g(w,"change",t[4])],z=!0)},p(e,[t]){1&t&&(c.checked=e[0].freezeDeps),1&t&&(h.checked=e[0].freezeDevDeps),1&t&&(k.checked=e[0].freezePeerDeps),1&t&&(w.checked=e[0].showOriginal)},i:e,o:e,d(e){e&&a(n),e&&a(s),e&&a(i),e&&a(v),e&&a(b),e&&a(y),e&&a(D),z=!1,r(_)}}}function se(e,t,n){let r;return i(e,G,(e=>n(0,r=e))),[r,function(){r.freezeDeps=this.checked,G.set(r)},function(){r.freezeDevDeps=this.checked,G.set(r)},function(){r.freezePeerDeps=this.checked,G.set(r)},function(){r.showOriginal=this.checked,G.set(r)}]}class ie extends B{constructor(e){super(),M(this,e,se,oe,o,{})}}function le(e){let t,n,r;return n=new ce({}),{c(){t=f("div"),C(n.$$.fragment),m(t,"class","result svelte-1kzbmo8")},m(e,c){u(e,t,c),T(n,t,null),r=!0},i(e){r||(S(n.$$.fragment,e),r=!0)},o(e){A(n.$$.fragment,e),r=!1},d(e){e&&a(t),L(n)}}}function ue(e){let t,n,c,o,s,i,l,d,g,$,v;s=new Z({}),d=new ie({});let b=e[0]&&le();return{c(){t=f("p"),t.innerHTML="Freeze the versions of package.json dependencies using package-lock.json, for example <code>&quot;rxjs&quot;: &quot;~6.6.0&quot;</code>\n    will become <code>&quot;rxjs&quot;: &quot;6.6.3&quot;</code>.",n=p(),c=f("p"),c.textContent="Everything is done in the browser, no HTTP requests are sent. Your secrets are safe.",o=p(),C(s.$$.fragment),i=p(),l=f("div"),C(d.$$.fragment),g=p(),b&&b.c(),$=h(),m(l,"class","settings svelte-1kzbmo8")},m(e,r){u(e,t,r),u(e,n,r),u(e,c,r),u(e,o,r),T(s,e,r),u(e,i,r),u(e,l,r),T(d,l,null),u(e,g,r),b&&b.m(e,r),u(e,$,r),v=!0},p(e,[t]){e[0]?b?1&t&&S(b,1):(b=le(),b.c(),S(b,1),b.m($.parentNode,$)):b&&(P={r:0,c:[],p:P},A(b,1,1,(()=>{b=null})),P.r||r(P.c),P=P.p)},i(e){v||(S(s.$$.fragment,e),S(d.$$.fragment,e),S(b),v=!0)},o(e){A(s.$$.fragment,e),A(d.$$.fragment,e),A(b),v=!1},d(e){e&&a(t),e&&a(n),e&&a(c),e&&a(o),L(s,e),e&&a(i),e&&a(l),L(d),e&&a(g),b&&b.d(e),e&&a($)}}}function ae(e,t,n){let r;return i(e,K,(e=>n(0,r=e))),[r]}return new class extends B{constructor(e){super(),M(this,e,ae,ue,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
